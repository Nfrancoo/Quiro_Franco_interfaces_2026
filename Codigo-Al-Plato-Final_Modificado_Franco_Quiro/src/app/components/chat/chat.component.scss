.body {
  height: 100vh;
  background: var(--fondo-body, transparent);
  display: flex;
  justify-content: center;
  font-family: var(--fuente-principal, sans-serif);
}

.chat-container {
  width: 100%; height: 100%; max-width: 600px;
  display: flex; flex-direction: column;
  background-color: transparent; position: relative;
}

/* HEADER */
.chat-header {
  background-color: var(--bg-grad-1, #252525);
  padding: 15px; display: flex; align-items: center;
  border-bottom: 1px solid var(--acento, #333); box-shadow: 0 2px 5px rgba(0,0,0,0.2); z-index: 10;
  
  .back-button { background: none; border: none; color: var(--acento, #d84f45); font-size: 1.5rem; margin-right: 15px; cursor: pointer; }
  .header-info {
    display: flex; align-items: center; gap: 10px;
    .header-icon { font-size: 1.5rem; color: var(--acento, #d84f45); }
    .text-content {
      h2 { margin: 0; color: var(--texto-general, #fff); font-size: 1.1rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 600px; font-family: var(--fuente-principal);}
      small { color: var(--texto-general, #aaa); font-size: 0.8rem; opacity: 0.8;}
    }
  }
}

/* BODY */
.chat-body {
  flex: 1; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px;
  /* El patrón sigue siendo válido como textura, pero con el fondo de la variable atrás */
  background-image: url('https://www.transparenttextures.com/patterns/cubes.png');
}

/* MENSAJES */
.message {
  display: flex; width: 100%;
  .bubble {
    max-width: 75%; padding: 10px 15px; border-radius: var(--btn-radio, 15px);
    position: relative; word-wrap: break-word; font-family: var(--fuente-principal);
    p { margin: 0; font-size: 1rem; color: var(--btn-texto, #fff); }
    .time { display: block; font-size: 0.7rem; text-align: right; margin-top: 5px; opacity: 0.7; }
    .sender-name { color: var(--btn-texto, #d84f45); font-weight: bold; font-size: 0.8rem; margin-bottom: 2px; display: block; }
  }

  &.sent {
    justify-content: flex-end;
    .bubble {
      background-color: var(--acento, #d84f45);
      border-bottom-right-radius: 2px; color: var(--btn-texto, #fff);
      p { color: var(--btn-texto, #fff); }
      .time { color: var(--btn-texto, #eee); opacity: 0.8; }
      .sender-name { color: var(--btn-texto, #fff); opacity: 0.9; }
    }
  }

  &.received {
    justify-content: flex-start;
    .bubble {
      background-color: var(--bg-grad-2, #333);
      border-bottom-left-radius: 2px; color: var(--texto-general, #fff);
      border: 1px solid var(--acento, transparent);
      p { color: var(--texto-general, #fff); }
      .time { color: var(--texto-general, #aaa); opacity: 0.7;}
      .sender-name { color: var(--acento, #d84f45); }
    }
  }
}

/* FOOTER */
.chat-footer {
  padding: 10px; background-color: var(--bg-grad-1, #252525);
  display: flex; align-items: center; gap: 10px; border-top: 1px solid var(--acento, #333);
  .input-message {
    flex: 1; padding: 12px; border-radius: var(--btn-radio, 25px);
    border: 1px solid var(--acento, #444); background-color: var(--bg-grad-2, #333);
    color: var(--texto-general, #fff); outline: none; font-size: 1rem; font-family: var(--fuente-principal);
    &::placeholder { color: var(--texto-general, #777); opacity: 0.6; }
  }
  .send-btn {
    width: 45px; height: 45px; border-radius: 50%; border: none;
    background-color: var(--acento, #d84f45); color: var(--btn-texto, #fff);
    display: flex; align-items: center; justify-content: center; font-size: 1.2rem;
    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    &:active { transform: scale(0.95); }
  }
}